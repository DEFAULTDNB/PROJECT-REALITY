<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"> 
<title>PROJECT REALITY</title>
<link rel="stylesheet" href="Config/N64.css">
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="icon" href="Config/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="Config/favicon.png" />
</head>
<body>
<div id="overlay"><div id="overlaytext" style="font-size: 22px"></div></div>
<div id="logo"><center><image src="Config/LOGO.png" height="150" width="150" style="-webkit-filter: drop-shadow(10px 10px 10px #222); filter: drop-shadow(10px 10px 10px #222);"></image></center></div>
<h1>GAME COLLECTION</h1>
<div class="frame" id="frame">
<div class="card-header" id="frametitle">GAME TITLE</div>
	<div class="background-image"></div>
	<span class="closebtn"><img src="Config/CLEFT.png" title="Scroll left" onclick="prev();" style="vertical-align: top-right;" height="32px" width="32px"/><img src="Config/START.png" title="Close panel" onclick="frame.style.display='none';" style="vertical-align: top-right;" height="32px" width="32px"/><img src="Config/CRIGHT.png" title="Scroll right" onclick="next();" style="vertical-align: top-right;" height="32px" width="32px"/></span>
	<div class="grid-container">
		<div class="grid-item"><center>About:</center>
		<div id="a1" style="border: 1px dashed; border-color: #C1BED1;">
		</div>
		</div>
		<div id="p2" class="grid-item"><center>Info:</center>
		<div id="p2-1" style="border: 1px dashed; border-color: #FFC001;"></div>
		</div>
			<div class="grid-item"><center>Artwork:</center>
				<div id="art" style="border: 1px dashed; border-color: #C20D02;">
				<img id="thumbE" class="thumbs" src='Config/LOGO.png' onload="this.style.display = 'inline-block';" onerror="this.style.display = 'none';" onclick='thumbFunct(this.id)'>
				<img id="thumbU" class="thumbs" src='Config/LOGO.png' onload="this.style.display = 'inline-block';" onerror="this.style.display = 'none';" onclick='thumbFunct(this.id)'>
				<img id="thumbJ" class="thumbs" src='Config/LOGO.png' onload="this.style.display = 'inline-block';" onerror="this.style.display = 'none';" onclick='thumbFunct(this.id)'>
				<img id="thumbA" class="thumbs" src='Config/LOGO.png' onload="this.style.display = 'inline-block';" onerror="this.style.display = 'none';" onclick='thumbFunct(this.id)'>
				<img id="thumbD" class="thumbs" src='Config/LOGO.png' onload="this.style.display = 'inline-block';" onerror="this.style.display = 'none';" onclick='thumbFunct(this.id)'>
				<img id="thumbF" class="thumbs" src='Config/LOGO.png' onload="this.style.display = 'inline-block';" onerror="this.style.display = 'none';" onclick='thumbFunct(this.id)'>
				<img id="thumbS" class="thumbs" src='Config/LOGO.png' onload="this.style.display = 'inline-block';" onerror="this.style.display = 'none';" onclick='thumbFunct(this.id)'>
				<img id="thumbI" class="thumbs" src='Config/LOGO.png' onload="this.style.display = 'inline-block';" onerror="this.style.display = 'none';" onclick='thumbFunct(this.id)'>
				<img id="thumbPC" class="thumbs" src='Config/LOGO.png' onload="this.style.display = 'inline-block';" onerror="this.style.display = 'none';" onclick='thumbFunct(this.id)'>
				<img id="thumbPCU" class="thumbs" src='Config/LOGO.png' onload="this.style.display = 'inline-block';" onerror="this.style.display = 'none';" onclick='thumbFunct(this.id)'>
				<img id="thumbSE" class="thumbs" src='Config/LOGO.png' onload="this.style.display = 'inline-block';" onerror="this.style.display = 'none';" onclick='thumbFunct(this.id)'>
				<img id="thumbALT" class="thumbs" src='Config/LOGO.png' onload="this.style.display = 'inline-block';" onerror="this.style.display = 'none';" onclick='thumbFunct(this.id)'>
				</div>
			</div>
		<div class="grid-item"><center>Collection:</center>
		<div style='border: 1px dashed #069330;'>
		Cartridges:<BR>🇪🇺<label class="switch" title="PAL"><input type="checkbox"><span class="slider round"></span></label>🇺🇸<label title="NTSC-U" class="switch"><input type="checkbox"><span class="slider round"></span></label>🇯🇵<label title="NTSC-J" class="switch"><input type="checkbox"><span class="slider round"></span></label>
		<br>🇭🇰<label title="Hong Kong" class="switch"><input type="checkbox"><span class="slider round"></span></label>🇹🇼<label title="Taiwan" class="switch"><input type="checkbox"><span class="slider round"></span></label>™️<label title="Not For Resale" class="switch"><input type="checkbox"><span class="slider round"></span></label>
		</div>
		<div style='border: 1px dashed #011DA9;'>
		Manual:&#9;<label class="switch"><input type="checkbox"><span class="slider round"></span></label><br>
		Box:&#9;<label class="switch"><input type="checkbox"><span class="slider round"></span></label><br>
		Sealed:&#9;<label class="switch"><input type="checkbox"><span class="slider round"></span></label>
		</div>
		</div>
		
	</div>
</div>
<center><div id="main" class="main" style="border: none;"></div><center>
<script>
document.getElementById("overlaytext").innerHTML = "Loading..";
document.getElementById("overlay").style.display = "block";
document.getElementById("frame").style.display = "none";
var fileName = "Config/N64.cfg";
var xmlFile = new XMLHttpRequest;
xmlFile.open('get', fileName, false);
xmlFile.send(null);
var xmlDoc = xmlFile.responseText;
var lines = xmlDoc.split("\r\n");
let titleCount = lines.length;
var coverFlow =(function(a,b){while(a--)b[a]=a+1;return b})(titleCount,[]);
var g = 0;
var h = 0;
const jpboxes = [];
const alphamatch = [];
for (i=0; i < titleCount; i++){
	var div = document.createElement("div");
	document.getElementById("main").appendChild(div);
	div.id = "card"+coverFlow[i];
	//div.class = "tile";
	var info = coverFlow[i]-1;
	var gTitle = lines[info].slice( (lines[info]), (lines[info].indexOf("GENRE=")-1) ) || lines[info].slice( (lines[info]), (lines[info].indexOf("ALT=")-1) ).stringify();
	alphamatch.push(lines[info].charAt(0));
	if (lines[info].match("REGIONS=J ")){
		jpboxes.push(coverFlow[i]);
		div.style.backgroundImage = "url('Covers/"+gTitle+" J.png')";
		} else if (lines[info].match("REGIONS=JU ")){
		div.style.backgroundImage = "url('Covers/"+gTitle+" U.png')";
		} else if(lines[info].match("REGIONS=JUE ")){
		div.style.backgroundImage = "url('Covers/"+gTitle+" E.png')";
		} else if (lines[info].match("REGIONS=UE ")){
		div.style.backgroundImage = "url('Covers/"+gTitle+" E.png')";
		} else if (lines[info].match("REGIONS=U ")){
		div.style.backgroundImage = "url('Covers/"+gTitle+" U.png')";
		} else if (lines[info].match("REGIONS=JE ")){
		div.style.backgroundImage = "url('Covers/"+gTitle+" E.png')";
		} else if (lines[info].match("REGIONS=E ")){
		div.style.backgroundImage = "url('Covers/"+gTitle+" E.png')";
		} else if (lines[info].match("REGIONS=F ")){
		div.style.backgroundImage = "url('Covers/"+gTitle+" F.png')";
		} else if (lines[info].match("REGIONS=D ")){
		div.style.backgroundImage = "url('Covers/"+gTitle+" D.png')";
		} else if (lines[info].match("REGIONS=A ")){
		div.style.backgroundImage = "url('Covers/"+gTitle+" A.png')";
		} else if (lines[info].match("REGIONS=UA ")){
		div.style.backgroundImage = "url('Covers/"+gTitle+" A.png')";
		} else if (lines[info].match("REGIONS=UEA ")){
		div.style.backgroundImage = "url('Covers/"+gTitle+" E.png')";
		} else if (lines[info].match("REGIONS=JUA ")){
		div.style.backgroundImage = "url('Covers/"+gTitle+" A.png')";
	}
	//card styling
	div.style.height = "180px";
	div.style.width = "400px" ;
	div.style.border ="thin solid #C1BED1";
	div.style.backgroundColor = "rgba(0,0,0,0.5)";
	div.style.color = "white";
	div.style.textShadow = "1.5px 2px #000000";
	div.style.fontSize = "17px";
	div.style.display = "inline-block";
	div.style.backgroundRepeat = "no-repeat";
	//div.style.backgroundSize ="contain"; //220px
	div.style.backgroundSize ="225px"; //220px
	div.style.backgroundPosition = "5px 8px"
	//end-main-loop//
	for (j=0; j < jpboxes.length; j++){
	document.getElementById("card"+jpboxes[j]).style.backgroundSize ="120px";
	document.getElementById("card"+jpboxes[j]).style.backgroundPosition = "60px 8px";
	}
	//end-fix-jpboxes//
	var gYear = lines[info].slice( (lines[info].indexOf("DATE=")+5), (lines[info].indexOf("SCORE=")-1) );
	var gGenre = lines[info].slice( (lines[info].indexOf("GENRE=")+6), (lines[info].indexOf("PUB=")-1) );
	var gScore = lines[info].slice( (lines[info].indexOf("SCORE=")+6), (lines[info].indexOf("REGIONS=")-1) );
	div.innerHTML = "<div style='position: relative; left: 110px; top: 8px; height: 162px; width: 160px; border: 1px dashed; border-color: #C1BED1; white-space: wrap; overflow: hidden;'>"+coverFlow[i]+"/"+titleCount+"<input type='image' id='"+coverFlow[i]+"' onclick='reply_click(this.id)' src='Config/START.png' title='Open info panel' style='position: absolute; right: -5px; bottom: -5px' height='40px' width='40px' overflow='hidden'/><br>"+gTitle+"<br><span style='color:yellow'>Date: </span>"+gYear+"<br><span style='color:yellow'>Genre: </span>"+gGenre+"<br><span style='color:yellow'>Score: </span>"+gScore+"%</span></label></div>";
}
var prevCard;
var nextCard;
function reply_click(clicked_id){
	let expak = "";
	if (lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("EXPAK=")+6), (lines[clicked_id-1].indexOf("MEMPAK=")-1)).match("1")){
	expak = "Required!";
	} else if (lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("EXPAK=")+6), (lines[clicked_id-1].indexOf("MEMPAK=")-1)).match("2")){
	expak = "Enhanced!";
	} else if (lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("EXPAK=")+6), (lines[clicked_id-1].indexOf("MEMPAK=")-1)).match("3")){
	expak = "DO NOT USE!";
	} else {
	expak = "Unsupported!";
	}
	
	let mpak = "";
	if (lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("MEMPAK=")+7), (lines[clicked_id-1].indexOf("CART=")-1)).match("0")){
	mpak = "Memory Pak<br>(32,768 bytes) SRAM";
	} else if (lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("MEMPAK=")+7), (lines[clicked_id-1].indexOf("CART=")-1)).match("1")){
	mpak = "4 Kilobits<br>(512 bytes) EEPROM";
	} else if (lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("MEMPAK=")+7), (lines[clicked_id-1].indexOf("CART=")-1)).match("2")){
	mpak = "16 Kilobits<br>(2048 bytes) EEPROM";
	} else if (lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("MEMPAK=")+7), (lines[clicked_id-1].indexOf("CART=")-1)).match("3")){
	mpak = "256 Kilobits<br>(32,768 bytes) SRAM";
	} else if (lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("MEMPAK=")+7), (lines[clicked_id-1].indexOf("CART=")-1)).match("4")){
	mpak = "1024 Kilobits<br>(131,072 bytes) FlashRAM";
	} else if (lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("MEMPAK=")+7), (lines[clicked_id-1].indexOf("CART=")-1)).match("5")){
	mpak = "No Saves!";
	} else if (lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("MEMPAK=")+7), (lines[clicked_id-1].indexOf("CART=")-1)).match("7")){
	mpak = "768Kbit SRAM + Battery!";
	} else if (lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("MEMPAK=")+7), (lines[clicked_id-1].indexOf("CART=")-1)).match("8")){
	mpak = "256Kbit SRAM + Battery for RTC!";
	} else {
	mpak = "Password System!"; //6
	}

	let altName = "";
	if (lines[clicked_id-1].match("ALT=")){
	altName = "AKA: " + lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("ALT=")+4), (lines[clicked_id-1].length) )+"<br>";
	} else {
	altName = "";
	}
	let cartColour = "";
	if (lines[clicked_id-1].match(/\[(.*?)\]/)){
	cartColour = "<br>Coloured Cart: " + lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("[")+1), (lines[clicked_id-1].indexOf("]")));
	} else {
	cartColour = "";
	}
	let pubCo = lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("PUB=")+4), (lines[clicked_id-1].indexOf("DATE=")-1));
	let mbSize = lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("SIZE=")+5), (lines[clicked_id-1].indexOf("EXPAK=")-1));
	let rDate = lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("DATE=")+5), (lines[clicked_id-1].indexOf("SCORE=")-1));
	let gameTitle = lines[clicked_id-1].slice( (lines[clicked_id-1]), (lines[clicked_id-1].indexOf("GENRE=")-1) );
	let gameGenre = lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("GENRE=")+6), (lines[clicked_id-1].indexOf("PUB=")-1) );
	let gameScore = lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("SCORE=")+6), (lines[clicked_id-1].indexOf("REGIONS=")-1) );
	let gameRegions = lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("REGIONS=")+8), (lines[clicked_id-1].indexOf("SIZE=")-1) );
	let colCart = "";
	if (cartColour != "") {
	colCart = ", and it also had a regional exclusive " + lines[clicked_id-1].slice( (lines[clicked_id-1].indexOf("[")+1), (lines[clicked_id-1].indexOf("]"))).toLowerCase() + " cartridge to collect!";
	} else {
	colCart = "";
	}
	
	if (gameRegions.match("JUE")){
		gameRegions = "Japan, USA and Europe";
		} else if (gameRegions.match("UE")){ 
		gameRegions = "USA and Europe";
		} else if (gameRegions.match("UA")){ 
		gameRegions = "USA and Australia";
		} else if (gameRegions.match("JE")){ 
		gameRegions = "Japan and Europe";
		} else if (gameRegions.match("JU")){ 
		gameRegions = "Japan and USA";
		} else if (gameRegions.match("JUA")){ 
		gameRegions = "Japan, USA and Australia (PAL)";
		} else if (gameRegions.match("J")){ 
		gameRegions = "Japan (NTSC-J) exclusively";
		} else if (gameRegions.match("U")){ 
		gameRegions = "USA (NTSC-U) exclusively";
		} else if (gameRegions.match("E")){ 
		gameRegions = "Europe (PAL) exclusively";
		} else if (gameRegions.match("A")){ 
		gameRegions = "Australia (PAL) exclusively";
	}
	
	document.getElementById("p2-1").innerHTML = altName + "Publisher: " + pubCo + "<BR>Released: " + rDate + "<br>ROM SIZE: " + mbSize + "<br>SAVE TYPE: "+ mpak + "<br>EX PAK: " + expak + cartColour;

	document.getElementById("a1").innerHTML = "The " + gameGenre.toLowerCase() + " game: '" + gameTitle + "', was published by " + pubCo + " on " + rDate+ ".<br><br>The game recieved average review scores of " + gameScore + "%, when it launched in " + gameRegions + colCart;

	document.getElementById("frame").style.display = "block";
	document.getElementById("frametitle").innerHTML = (gameTitle);
	document.getElementById("thumbE").src = 'Covers/'+frametitle.innerHTML+' E.png';
	document.getElementById("thumbU").src = 'Covers/'+frametitle.innerHTML+' U.png';
	document.getElementById("thumbJ").src = 'Covers/'+frametitle.innerHTML+' J.png';
	document.getElementById("thumbA").src = 'Covers/'+frametitle.innerHTML+' A.png';
	document.getElementById("thumbD").src = 'Covers/'+frametitle.innerHTML+' D.png';
	document.getElementById("thumbF").src = 'Covers/'+frametitle.innerHTML+' F.png';
	document.getElementById("thumbS").src = 'Covers/'+frametitle.innerHTML+' S.png';
	document.getElementById("thumbI").src = 'Covers/'+frametitle.innerHTML+' I.png';
	document.getElementById("thumbPC").src = 'Covers/'+frametitle.innerHTML+' PC.png';
	document.getElementById("thumbPCU").src = 'Covers/'+frametitle.innerHTML+' PCU.png';
	document.getElementById("thumbSE").src = 'Covers/'+frametitle.innerHTML+' SE.png';
	document.getElementById("thumbALT").src = 'Covers/'+frametitle.innerHTML+' ALT.png';
	prevCard = Number(clicked_id)-1;
	nextCard = Number(clicked_id)+1;
}
function prev() {
document.getElementById(prevCard).click();
document.getElementById('card'+(prevCard-1)).scrollIntoView({behavior: 'auto' });
}
function next() {
document.getElementById(nextCard).click();
document.getElementById('card'+(nextCard-1)).scrollIntoView({behavior: 'auto' });
}

function AZclick() {
	switch (document.getElementById("myText").value){
	case "0": document.getElementById('card'+(alphamatch.indexOf("0")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "1": document.getElementById('card'+(alphamatch.indexOf("1")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "6": document.getElementById('card'+(alphamatch.indexOf("6")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "A": document.getElementById('card'+(alphamatch.indexOf("A")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "B": document.getElementById('card'+(alphamatch.indexOf("B")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "C": document.getElementById('card'+(alphamatch.indexOf("C")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "D": document.getElementById('card'+(alphamatch.indexOf("D")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "E": document.getElementById('card'+(alphamatch.indexOf("E")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "F": document.getElementById('card'+(alphamatch.indexOf("F")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "G": document.getElementById('card'+(alphamatch.indexOf("G")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "H": document.getElementById('card'+(alphamatch.indexOf("H")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "I": document.getElementById('card'+(alphamatch.indexOf("I")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "J": document.getElementById('card'+(alphamatch.indexOf("J")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "K": document.getElementById('card'+(alphamatch.indexOf("K")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "L": document.getElementById('card'+(alphamatch.indexOf("L")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "M": document.getElementById('card'+(alphamatch.indexOf("M")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "N": document.getElementById('card'+(alphamatch.indexOf("N")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "O": document.getElementById('card'+(alphamatch.indexOf("O")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "P": document.getElementById('card'+(alphamatch.indexOf("P")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "Q": document.getElementById('card'+(alphamatch.indexOf("Q")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "R": document.getElementById('card'+(alphamatch.indexOf("R")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "S": document.getElementById('card'+(alphamatch.indexOf("S")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "T": document.getElementById('card'+(alphamatch.indexOf("T")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "U": document.getElementById('card'+(alphamatch.indexOf("U")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "V": document.getElementById('card'+(alphamatch.indexOf("V")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "W": document.getElementById('card'+(alphamatch.indexOf("W")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "X": document.getElementById('card'+(alphamatch.indexOf("X")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "Y": document.getElementById('card'+(alphamatch.indexOf("Y")+1)).scrollIntoView({behavior: 'auto' }); break;
	case "Z": document.getElementById('card'+(alphamatch.indexOf("Z")+1)).scrollIntoView({behavior: 'auto' }); break;
	default: alert("No entries found!");
	}
}
var scrolling = false;
function scrollMode() {
	if (scrolling == true) {
	setInterval(function() {window.scrollBy(0, 0);}, 0);
	} else {
	setInterval(function() {window.scrollBy(0, 1);}, 20);
	}
}
document.onkeypress = function (e) {
    e = e || window.event;
	event.preventDefault();
	document.getElementById("myText").value = e.key.toUpperCase();
	AZclick();
};
function thumbFunct(clicked_id) {
window.open(document.getElementById(clicked_id).src, frametitle.innerHTML, 'width='+document.getElementById(clicked_id).naturalWidth+'px,height='+document.getElementById(clicked_id).naturalHeight+'px');
}

window.onload = function () {
document.getElementById("overlay").style.display = "none";
}
</script>
<button id="top" onclick="document.getElementById('logo').scrollIntoView({behavior: 'auto' }); noscroll();" class="buttonU">↑</button>
<input type="text" id="myText" value="0" class="search" maxlength="1" size="6" onclick="this.value=''">
<!--button id="scroll" onclick="scrollMode();" class="buttonScroll">Scroll</button-->
<button id="bottom" onclick="document.getElementById('footer').scrollIntoView({behavior: 'auto' });" class="buttonD">↓</button>
<div id="footer" class="footer">DEFAULTDNB 2022</div>
</body>
</html>